# 钓鱼邮件服务器自动化部署使用说明

[TOC]

------

## **项目介绍**

**主打轻量化高性能的技术栈**：Postfix + Dovecot + Postfixadmin + Gophish，后端通用MySQL数据库，有效缓解gophish的阻塞问题。
**配置信息自动备份**：安装完毕自动采集登录凭证并备份，防止遗忘初始化密码。
**全自动化部署**：仅需按提示提供公网IP地址、域名，即可一键部署钓鱼平台。
**支持重复安装**：该脚本可重复运行，无需重置VPS，即可重置数据库，降低重装开销。
**支持远程连接**：可远程连接数据，手动导出复杂数据、临时修改等。

**常态资源占用对比**：
![image-20250922160029815](./assets/image-20250922160029815.png)新技术栈(Postfix + Dovecot + Postfixadmin + Gophish + MySQL)

![image-20250922162715470](./assets/image-20250922162715470.png)旧技术栈(Docker + Gophish + SQLite + EwoMail + MySQL)

**发件性能**：
经测试无文件附件发件速度约为160封/每分钟（目标-mail.qq.com，邮件内容大小-16KB）

## **安装与部署**

服务器优先选择Debian12系统

![image-20250922093449127](./assets/image-20250922093449127.png)直接将安装脚本丢到服务器，chmod添加运行权限直接运行。

![image-20250922093901861](./assets/image-20250922093901861.png)按提示输入服务器的公网IP、邮件域名，输错了可以Ctrl+U重输。

![image-20250922094339151](./assets/image-20250922094339151.png)没出现报错就是执行成功了

![image-20250922094429418](./assets/image-20250922094429418.png)
脚本执行完毕后会自动在当前目录备份密码配置信息，防止遗忘

## **Postfixadmin的使用**

### 管理员用户创建

若自动创建的管理员用户无法登录，可以通过以下方式进行手动创建。

![image-20250922095438561](./assets/image-20250922095438561.png)访问/setup.php，在最下面添加超级管理员用户，用来管理系统

![image-20250922095607895](./assets/image-20250922095607895.png)出现绿字就是创建成功了，点击蓝字即可跳转至登录页

### 域名配置和发件用户创建

![image-20250922095746094](./assets/image-20250922095746094.png)输入创建的管理员用户密码，选择中文点击login

![image-20250922095840267](./assets/image-20250922095840267.png)登录系统后点击域名清单->新建域

![image-20250922095921441](./assets/image-20250922095921441.png)这里就是配置我们的主域名，输入主域名后点击新增即可

![image-20250922095950151](./assets/image-20250922095950151.png)出现提示新增成功

![image-20250922100014968](./assets/image-20250922100014968.png)点击虚拟用户清单->新建邮箱

![image-20250922100225233](./assets/image-20250922100225233.png)从该位置创建发件人用户

![image-20250922100318785](./assets/image-20250922100318785.png)点击虚拟用户清单->虚拟用户清单即可查看创建的邮箱![image-20250922100348306](./assets/image-20250922100348306.png)

### 多域名绑定

![image-20250922100556190](./assets/image-20250922100556190.png)可以通过新建域来绑定多个域名

![image-20250922100624120](./assets/image-20250922100624120.png)这里举例创建一个ceshi.com的域名

![image-20250922100815420](./assets/image-20250922100815420.png)点击虚拟用户清单->新建邮箱

![image-20250922100845803](./assets/image-20250922100845803.png)通过选择不同的域来创建指定域的邮箱![image-20250922100912671](./assets/image-20250922100912671.png)







